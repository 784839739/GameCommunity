<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>showGame</title>
<script type="text/javascript" src="../script/jquery.min.js"></script>
<script type="text/javascript" src="../script/jquerySession.js"></script>
<script type="text/javascript" src="../script/getRootPath.js"></script>
<script type="text/javascript" src="../script/getParam.js"></script>
<script type="text/javascript">
	var path = getRootPath(); 
	var gameId = getParam("gameId");
</script>
</head>
<body>
    <div><iframe align="center" width="100%" height="100" src="../top.html" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no"></iframe></div>
    
	<br/>
	<table width=100%>
		<tr>
			<td colspan='2'><center><a href=javascript:void(0) onclick=addBus()>加入购物车</a></center></td>
			<td colspan='2'><center><a href=javascript:void(0) onclick=jumpToCommunity()>论坛</a></center></td>
		</tr>
		<tr><td colspan='5'><hr/></td></tr>
		<tr>
			<td id="gameName" width=20%></td>
			<td id="buildTime" width=20%></td>
			<td id="introduce" width=20%></td>
			<td id="price" width=20%></td>
			<td id="size" width=20%></td>
		</tr>
		
		<tr><td colspan='5'><hr/></td></tr>
		<tr>
			<td id="cpu"></td>
			<td id="disk"></td>
			<td id="display"></td>
			<td id="memoria"></td>
			<td id="network"></td>
		</tr>
		<tr><td colspan='5'><hr/></td></tr>
		
		<tr>
			<td id="voice"></td>
			<td id="system"></td>
			<td id="note"></td>
			<td id="version"></td>
		</tr>
		<tr><td colspan='5'><hr/></td></tr>
		
	</table>

<script type="text/javascript">

function addBus(){
	if($.session.get("shoppingCart") == null || $.session.get("shoppingCart") == "undefined"){
		$.session.set("shoppingCart", "");
	}
	$.session.set("shoppingCart", $.session.get("shoppingCart") + gameId + ",");
	alert("添加购物车成功");
}

function jumpToCommunity(){
	alert("跳转到论坛中……");
}

$.ajax({
	url:'showGame.do',
	method:'POST',
	dataType:'JSON',
	data: {"gameId":gameId},
	success:function(result){
		console.log(result.data);
		if(result.state == 0){
			data = result.data;
			$("#gameName").text("游戏名称：" + data.gameName);
			$("#buildTime").text("游戏出版日期：" + data.buildDate);
			$("#introduce").text("游戏介绍：" + data.introduce);
			$("#price").text("游戏价格：¥" + data.price);
			$("#size").text("游戏大小：" + data.size);
			
			$("#cpu").text("处理器要求：" + data.systemSupport.cpu);
			$("#disk").text("磁盘要求：" + data.systemSupport.disk);
			$("#display").text("显示器要求：" + data.systemSupport.display);
			$("#memoria").text("内存要求：" + data.systemSupport.memoria);
			var network;
			if(data.systemSupport.network) network="需要联网";
			else network="无需联网";
			$("#network").text("网卡要求：" + network);
			
			$("#voice").text("声卡要求：" + data.systemSupport.voice);
			$("#system").text("系统要求：" + data.systemSupport.system);
			$("#note").text("注意事项：" + data.systemSupport.note);
			$("#version").text("版本号：" + data.version);
		}else{
			alert(result.message);
		}
	}
	
	
});
</script>
</body>
</html>